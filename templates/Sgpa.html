{% extends "base.html" %}

{% block title %}ATKU SGPA Calculator - B.Tech Hub{% endblock %}

{% block extra_head %}
    <style>
        /* Additional styles specific to SGPA calculator */
        .subject option {
            padding: 8px;
        }
    </style>
{% endblock %}

{% block content %}
<!-- Calculator Container -->
<div class="w-full max-w-4xl mx-auto bg-white p-8 rounded-2xl shadow-2xl">
    <!-- Heading -->
    <div class="text-center mb-8">
        <h1 class="text-4xl font-bold text-gray-800 mb-2">
            ðŸ“Š ATKU SGPA Calculator ðŸŽ“
        </h1>
        <p class="text-gray-600 text-xl">
            Hey <span id="studentNameDisplay" class="font-bold">Name</span> ! Let's Calculate Your SGPA 
        </p>
    </div>

    <!-- Dropdown section -->
    <div class="flex flex-col sm:flex-row gap-6 mb-10 justify-center items-center">
        <!-- Semester -->
        <div class="w-full sm:w-auto">
            <label for="semester" class="block text-s font-semibold text-gray-700 mb-2">
                Semester
            </label>
            <select id="semester" class="w-10/12 sm:w-48 px-2 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium">
                <option value="">Select Semester</option>
                <option>I</option>
                <option>II</option>
                <option>III</option>
                <option>IV</option>
            </select>
        </div>

        <!-- Branch -->
        <div class="w-full sm:w-auto">
            <label for="branch" class="block text-m font-semibold text-gray-700 mb-2">
                Branch
            </label>
            <select id="branch" class="w-10/12 sm:w-48 px-2 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-medium">
                <option value="">Select Branch</option>
                <option>Computer Science & Allied</option>
                <option>Electronics & Communication Engineering & Allied</option>
                <option>Mechanical Engineering & Allied</option>
                <option>Civil Engineering & Allied</option>
            </select>
        </div>
    </div>

    <!-- Marks Table -->
    <div class="overflow-x-auto">
        <table class="w-full border-collapse bg-white rounded-lg shadow-lg">
            <thead>
                <tr class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white">
                    <th class="px-4 py-3 font-semibold text-lg border-r border-blue-500 text-center">
                        SUBJECT CODE & NAME
                    </th>
                    <th class="px-4 py-3 font-semibold text-lg border-r border-blue-500 text-center">
                        CREDIT
                    </th>
                    <th class="px-4 py-3 font-semibold text-lg text-center">MARKS</th>
                </tr>
            </thead>

            <tbody>
                <!-- Six rows for six subjects -->
                {% for i in range(6) %}
                <tr class="border-b border-gray-200 hover:bg-gray-50 transition-colors">
                    <!-- Subject cell -->
                    <td class="px-4 py-2 border-r border-gray-200 text-center">
                        <select class="subject w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                            <option value="">Select Subject</option>
                        </select>
                    </td>
                    
                    <!-- Credit cell -->
                    <td class="px-4 py-2 border-r border-gray-200 text-center">
                        <div class="w-20 px-3 py-2 mx-auto text-gray-400 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                            Cr
                        </div>
                    </td>

                    <!-- Marks cell -->
                    <td class="px-4 py-2 text-center">
                        <div class="flex items-center justify-center gap-8">
                            <input
                                type="number"
                                min="0"
                                max="100"
                                class="w-24 px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center"
                                placeholder="Marks"
                            />
                            <button
                                type="button"
                                onclick="this.previousElementSibling.value = Math.min(100, parseInt(this.previousElementSibling.value || 0) + 10)"
                                class="w-8 h-8 bg-green-500 hover:bg-green-600 text-white rounded-full flex items-center justify-center text-lg font-bold transition-colors">
                                +
                            </button>
                        </div>
                    </td>
                </tr>
                {% endfor %}
                <tr class="border-[1.5vw] border-gray-200"></tr>
                <!-- Practical Subjects -->
                {% for i in range(4) %}
                <tr class="border-b border-gray-200 hover:bg-gray-50 transition-colors">
                    <!-- Subject cell -->
                    <td class="px-4 py-2 border-r border-gray-200 text-center">
                        <select class="subject w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                            <option value="">Select Practical</option>
                        </select>
                    </td>
                    
                    <!-- Credit cell -->
                    <td class="px-4 py-2 border-r border-gray-200 text-center">
                        <div class="w-20 px-3 py-2 mx-auto text-gray-400 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center">
                            Cr
                        </div>
                    </td>

                    <!-- Marks cell -->
                    <td class="px-4 py-2 text-center">
                        <div class="flex items-center justify-center gap-8">
                            <input
                                type="number"
                                min="0"
                                max="100"
                                class="w-24 px-3 py-2 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-center"
                                placeholder="Marks"
                            />
                            <button
                                type="button"
                                onclick="this.previousElementSibling.value = Math.min(100, parseInt(this.previousElementSibling.value || 0) + 10)"
                                class="w-8 h-8 bg-green-500 hover:bg-green-600 text-white rounded-full flex items-center justify-center text-lg font-bold transition-colors">
                                +
                            </button>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Calculate button -->
    <div class="text-center">
        <button
            class="mt-3 px-8 py-3 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 transition-colors">
            Calculate SGPA
        </button>
    </div>
</div>

{% endblock %}

{% block extra_scripts %}
    <script src="{{ url_for('static', filename='js/sgpa.js') }}"></script>
{% endblock %}
